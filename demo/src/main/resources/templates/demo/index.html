<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: layout(content=~{::section})}">

<!--
  index.html
  - PhotoProject 검증용 메인 화면
  - Postman + Thymeleaf 두 방식으로 API 동작을 검증하기 위한 진입점
  - 공통 레이아웃(base.html)을 사용하고,
    아래 <section> 전체가 content 슬롯으로 전달.
-->

<section>
    <h1>PhotoProject 검증용 홈</h1>

    <p>
        이 페이지는 <strong>API 검증용 최소 UI</strong>입니다.<br/>
        Postman과 Thymeleaf 화면 두 방식으로 API 동작을 확인합니다.
    </p>

    <hr/>

    <!-- 인증 관련 -->
    <section>
        <h2>🔐 인증(Authentication)</h2>
        <!--로그인 상태 표시-->
        <div th:if="${isLogin}">
            <p>
                로그인 상태: <strong th:text="${username}">username</strong>
            </p>
        <!--JWT 로그아웃-->
            <button type="button" onclick="logout()">로그아웃</button>
        </div>
        <!--비로그인 상태-->
        <div th:unless="${isLogin}">
            <ul>
                <li><a href="/ui/demo/login">로그인 페이지</a></li>
                <li><a href="#">회원가입 페이지 (예정)</a></li>
            </ul>
            <p>
                비로그인 상태 접근 시 <strong>401 Unauthorized</strong> 반환 여부 확인
            </p>
        </div>
    </section>

    <hr/>

    <!-- 게시글 관련 -->
    <section>
        <h2>📝 게시글(Post)</h2>
        <ul>
            <li><a href="#">게시글 목록 조회</a></li>
            <li><a href="#">게시글 상세 조회</a></li>
            <li><a href="/ui/demo/posts/write">게시글 작성</a></li>
        </ul>
        <p>
            권한 부족 시 <strong>403 Forbidden</strong> 반환 여부 확인
        </p>
    </section>

    <hr/>

    <!-- 보안 정책 -->
    <section>
        <h2>🛡️ 보안 정책 요약</h2>
        <ul>
            <li>비로그인 사용자 접근 → 401</li>
            <li>권한 부족 접근 → 403</li>
        </ul>
    </section>

    <hr/>

    <!-- 안내 -->
    <section>
        <p>
            photoProject는 <strong>갤러리 게시판</strong> 목적의 API 프로젝트이며,<br/>
            화면은 기능 검증을 위한 최소 UI로 구성되어 있습니다.
        </p>
    </section>
    <!--JWT 로그아웃 스크립트-->
    <script>
        function logout() {
            fetch("/api/auth/logout",{
                method: "POST",
                credentials: "include"
            }).then(() => location.reload());
        }
    </script>
</section>

</html>
